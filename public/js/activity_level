function calcBMR(age, weight, height, sex) {
    const weightToKilo = weight / 2.2;
    const heightToCentimeter = height * 2.54

    let base = 10 * weightToKilo + 6.25 * heightToCentimeter - 5 * age;
    if (sex == 'male') {
        base += 5;
    } else if (sex == 'female'){
        base -= 161;
    }

    return base
}
function goals(weightGoal, goalLBS, bmr, activity_level){
    let calories = bmr * activity_level;
    if (weightGoal === 'weightMaintain') {
        return `Calories for weight mainanence - ${calories.toFixed(0)} Calories`;
    }
    if (weightGoal === 'weightLoss') {
        calories = calories - (goalLBS * 500);
        return `Calories for weight loss - ${calories.toFixed(0)} Calories`;
    }
    if (weightGoal === 'weightGain') {
        calories = calories + (goalLBS * 500);
        return `Calories for weight gain - ${calories.toFixed(0)} Calories`;
    }
}
function activity_level(event) {
    event.preventDefault(); // Prevent the default form submission

    // Get form data
    const age = document.getElementById("age").value;
    const weight = document.getElementById("weight").value;
    const sex = document.getElementById("gender").value;
    const height = document.getElementById("height").value;
    const resting = parseFloat(document.getElementById("Resting").value);
    const veryLightActivity = parseFloat(document.getElementById("VeryLightActivity").value);
    const lightActivity = parseFloat(document.getElementById("LightActivity").value);
    const moderateActivity = parseFloat(document.getElementById("ModerateActivity").value);
    const heavyActivity = parseFloat(document.getElementById("HeavyActivity").value);

    const weightGoal = document.getElementById("weightGoal").value;
    const goalLBS = parseFloat(document.getElementById("goalLBS").value);

    const checkHours = resting + veryLightActivity + lightActivity + moderateActivity + heavyActivity;
    
    if (checkHours !== 24) {
        // Create an error message element
        const errorMessage = document.createElement("p");
        errorMessage.textContent = "Error: The total hours should be equal to 24. Please adjust your input.";
        errorMessage.style.color = "red";  // Set the text color to red, for example

        // Insert the error message next to the calculate button
        const calculateButton = document.querySelector("#calculate_calories_form [type='submit']");
        calculateButton.parentNode.insertBefore(errorMessage, calculateButton.nextSibling);

        // Optionally, you can also remove the error message after a certain duration or when the user interacts with the form again
        setTimeout(() => {
            errorMessage.remove();
        }, 5000);  // Remove the error message after 5 seconds (adjust the duration as needed)
        return;
    } else {
        // Continue with the rest of your calculations
        const activityFactor = checkHours / 24;
        // Add more calculations or actions here
    }

    // VALUES TO DISPLAY
    const activityFactor = (resting * 1 + veryLightActivity * 1.2 + lightActivity * 2.5 + moderateActivity * 5 + heavyActivity * 7)/24
    const base = calcBMR(age, weight, height, sex);
    const goalCals = goals(weightGoal, goalLBS, base, activityFactor);

    // DISPLAY
    const calc = document.getElementById('calc-list');
    calc.innerHTML = "";
    const aF = document.createElement("li");
    aF.textContent = `Activity Factor- ${activityFactor.toFixed(2)} `
    calc.appendChild(aF);

    const bmr = document.createElement("li");
    const bmrLog = document.getElementById('bmr-list');
    bmrLog.innerHTML = "";
    bmr.textContent = `Basal Metabolic Rate- ${base.toFixed(0)} Calories`
    bmrLog.appendChild(bmr)

    const gw = document.createElement("li");
    const gwLog = document.getElementById('goal-list');
    gwLog.innerHTML = "";
    gw.textContent = `${goalCals}`;
    gwLog.appendChild(gw);
}